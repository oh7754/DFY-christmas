<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>크리스마스 트리 갤러리</title>
  <link rel="stylesheet" href="style/style.css" />

</head>
<body>
  <div id="ui">
    <h1>🎄 크리스마스 트리 갤러리</h1>
    <div style="font-size: 13px;">이미지를 올리면 트리에 걸려요.</div>

    <!-- 로그인 상태 표시 -->
    <div id="userInfo"
        style="margin-top: 6px; font-size: 12px; opacity: .9;">
      로그인 필요 (사내 구글 계정만 가능)
    </div>

    <!-- 로그인 / 로그아웃 버튼 -->
    <div style="margin-top: 6px; display: flex; gap: 6px;">
      <button id="loginBtn"
              style="font-size: 12px; padding: 4px 8px; border-radius: 6px; border:none; cursor:pointer; background:#22c55e; color:#022c22;">
        Google 계정으로 로그인
      </button>
      <button id="logoutBtn"
              style="font-size: 12px; padding: 4px 8px; border-radius: 6px; border:1px solid #1f2937; background:#0f172a; color:#e5e7eb; cursor:pointer; display:none;">
        로그아웃
      </button>
    </div>

    <!-- 소원 입력 -->
    <div id="wishInputs" style="margin-top: 8px; font-size: 12px;">
      <div style="opacity: 0.8; margin-bottom: 4px;">소원 적기 (선택)</div>
      <input
        id="wishName"
        type="text"
        placeholder="이름 또는 닉네임"
        style="width: 100%; margin-bottom: 4px; padding: 4px 6px; border-radius: 6px; border: 1px solid #1f2937; background:#020617; color:#e5e7eb;"
      />
      <textarea
        id="wishText"
        rows="3"
        placeholder="크리스마스 소원을 적어주세요 ✨"
        style="width: 100%; padding: 4px 6px; border-radius: 6px; border: 1px solid #1f2937; background:#020617; color:#e5e7eb; resize: vertical;"
      ></textarea>
    </div>

    <!-- 파일 업로드 (처음엔 막아둠) -->
    <input id="fileInput" type="file" multiple accept="image/*" disabled />
    <div id="count">걸린 사진: 0장</div>

      <div id="myImages" style="margin-top:10px; font-size:12px;">
        <div style="opacity:0.7;">내가 올린 사진</div>
        <div id="myImagesList" style="margin-top:4px; max-height:120px; overflow:auto;">
          <!-- 자바스크립트에서 채워 넣음 -->
      </div>
    </div>


</div>
    <!-- 오른쪽 사이드 레일 -->
  <div id="sideRail">
    <!-- 1. 로그인된 계정 프로필 -->
    <div id="profileCircle" class="circle profile-circle">
      <img id="profileImage" alt="" />
      <span id="profileInitials"></span>
      <!-- <span id="profileEmail"></span> -->
    </div>


    <!-- 2. 소원 추가 버튼 -->
    <button id="addWishBtn" class="circle add-wish-circle">
      <div class="add-wish-plus">+</div>
      <div class="add-wish-label">소원 적기</div>
    </button>

    <!-- 3. 내가 올린 소원들 (이미지 리스트) -->
    <div id="myWishList">
      <!-- JS 에서 채워 넣음 -->
    </div>
  </div>

  <!-- 소원 작성 + 이미지 업로드 팝업 -->
  <div id="wishModal" class="modal hidden">
    <div class="modal-backdrop"></div>
    <div class="modal-content">
      <h2>소원 적기</h2>
      <p class="modal-desc">
        소원을 적고 이미지를 함께 올려보세요.
      </p>
      <textarea id="wishText" rows="3"
        placeholder="올해 이루어졌으면 하는 소원을 적어주세요."></textarea>

      <label class="file-label">
        이미지 선택
        <input id="wishImageInput" type="file" accept="image/*" />
      </label>
      <div id="wishImageName" class="file-name">선택된 파일 없음</div>

      <div class="modal-buttons">
        <button id="wishCancelBtn" class="secondary">닫기</button>
        <button id="wishSubmitBtn">소원 올리기</button>
      </div>
    </div>
  </div>

  <!-- 소원 편지 패널 -->
  <div id="wishPanel" class="wish-panel hidden">
    <div class="wish-header">
      <div class="wish-from">
        From. <span id="wishSender"></span>
      </div>
      <button id="wishCloseBtn" class="secondary small">닫기</button>
    </div>
    <div class="wish-body">
      <p id="wishContent"></p>
    </div>
  </div>

  <!-- three.js (r150.1, 예전 방식 지원) -->
  <script src="https://cdn.jsdelivr.net/npm/three@0.150.1/build/three.min.js"></script>
  <!-- 앱 코드 -->
  <script type="module" src="main.js"></script>
</body>
</html>
